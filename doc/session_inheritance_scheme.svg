<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1273px" preserveAspectRatio="none" style="width:939px;height:1273px;" version="1.1" viewBox="0 0 939 1273" width="939px" zoomAndPan="magnify"><defs><filter height="300%" id="fx25moqb17uad" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="243" x="359.5" y="16.708">Session inheritance scheme</text><!--MD5=[29cb952d7fef08c111d303fb7200482e]
cluster OSP--><rect fill="#FFFFFF" filter="url(#fx25moqb17uad)" height="1095" style="stroke: #000000; stroke-width: 1.5;" width="698" x="22" y="44.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="312" y="59.9482">OSP-Core repo</text><!--MD5=[b35085e655f6f77dc58da564414b09f3]
cluster sqlite--><rect fill="#FFFFFF" filter="url(#fx25moqb17uad)" height="99" style="stroke: #000000; stroke-width: 1.5;" width="200" x="297" y="1163.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158" x="318" y="1178.9482">Sqlite wrapper repo</text><!--MD5=[5d116cf34137ea0187c8274717c3fc20]
cluster sqlalchemy--><rect fill="#FFFFFF" filter="url(#fx25moqb17uad)" height="99" style="stroke: #000000; stroke-width: 1.5;" width="236" x="521" y="1163.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="536.5" y="1178.9482">SqlAlchemy wrapper repo</text><!--MD5=[1d68d476a5210c2e25ea4abd20cd5963]
cluster simlammps--><rect fill="#FFFFFF" filter="url(#fx25moqb17uad)" height="99" style="stroke: #000000; stroke-width: 1.5;" width="184" x="744" y="721.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130" x="771" y="736.4482">Simlammps repo</text><!--MD5=[cd5e747b15c1be02fe068a13c8b17feb]
class OSP.Session--><rect fill="#FEFECE" filter="url(#fx25moqb17uad)" height="137.6328" id="OSP.Session" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="293.5" y="79.9531"/><ellipse cx="352.25" cy="95.9531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M352.3594,91.2969 L351.2031,96.375 L353.5313,96.375 L352.3594,91.2969 Z M350.875,89.0625 L353.8594,89.0625 L357.2188,101.4531 L354.7656,101.4531 L354,98.3906 L350.7188,98.3906 L349.9688,101.4531 L347.5313,101.4531 L350.875,89.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="49" x="372.75" y="100.1074">Session</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.5" x2="467.5" y1="111.9531" y2="111.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="299.5" y="126.1636">Registry : registry</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="294.5" x2="467.5" y1="132.7578" y2="132.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="299.5" y="146.9683">store(cuds_object) : Cuds</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="299.5" y="159.7729">load(*uids) : Iterator&lt;Cuds&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="299.5" y="172.5776">prune(rel) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="153" x="299.5" y="185.3823">_notify_delete(cuds_object)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="157" x="299.5" y="198.187">_notify_update(cuds_object)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="144" x="299.5" y="210.9917">_notify_read(cuds_object)</text><!--MD5=[82acbcb1bcfa1a9bcd69723735983b59]
class OSP.CoreSession--><rect fill="#FEFECE" filter="url(#fx25moqb17uad)" height="48" id="OSP.CoreSession" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="230" y="335.4531"/><ellipse cx="245" cy="351.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M247.9688,357.0938 Q247.3906,357.3906 246.75,357.5391 Q246.1094,357.6875 245.4063,357.6875 Q242.9063,357.6875 241.5859,356.0391 Q240.2656,354.3906 240.2656,351.2656 Q240.2656,348.1406 241.5859,346.4844 Q242.9063,344.8281 245.4063,344.8281 Q246.1094,344.8281 246.7578,344.9844 Q247.4063,345.1406 247.9688,345.4375 L247.9688,348.1563 Q247.3438,347.5781 246.75,347.3047 Q246.1563,347.0313 245.5313,347.0313 Q244.1875,347.0313 243.5,348.1016 Q242.8125,349.1719 242.8125,351.2656 Q242.8125,353.3594 243.5,354.4297 Q244.1875,355.5 245.5313,355.5 Q246.1563,355.5 246.75,355.2266 Q247.3438,354.9531 247.9688,354.375 L247.9688,357.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="259" y="355.6074">CoreSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="339" y1="367.4531" y2="367.4531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="339" y1="375.4531" y2="375.4531"/><!--MD5=[694ea37123eb4a202e8c3b973b702dbc]
class OSP.WrapperSession--><rect fill="#FEFECE" filter="url(#fx25moqb17uad)" height="163.2422" id="OSP.WrapperSession" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="375" y="277.9531"/><ellipse cx="422.75" cy="293.9531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M422.8594,289.2969 L421.7031,294.375 L424.0313,294.375 L422.8594,289.2969 Z M421.375,287.0625 L424.3594,287.0625 L427.7188,299.4531 L425.2656,299.4531 L424.5,296.3906 L421.2188,296.3906 L420.4688,299.4531 L418.0313,299.4531 L421.375,287.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="102" x="443.25" y="298.1074">WrapperSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="376" x2="580" y1="309.9531" y2="309.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="381" y="324.1636">_engine</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="381" y="336.9683">_forbid_buffer_reset_by</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="376" x2="580" y1="343.5625" y2="343.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="381" y="357.7729">_apply_added() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="381" y="370.5776">_apply_updated() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="381" y="383.3823">_apply_deleted() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="381" y="396.187">_notify_delete(cuds_object) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="381" y="408.9917">_notify_update(cuds_object) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="381" y="421.7964">_reset_buffers(changed_by) : bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="381" y="434.6011">_check_cardinalities() : void</text><!--MD5=[8c23bfae4dba30bb6c9c12faed816ae8]
class OSP.StorageWrapperSession--><rect fill="#FEFECE" filter="url(#fx25moqb17uad)" height="137.6328" id="OSP.StorageWrapperSession" style="stroke: #A80036; stroke-width: 1.5;" width="198" x="259" y="500.9531"/><ellipse cx="280.3" cy="516.9531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M280.4094,512.2969 L279.2531,517.375 L281.5813,517.375 L280.4094,512.2969 Z M278.925,510.0625 L281.9094,510.0625 L285.2688,522.4531 L282.8156,522.4531 L282.05,519.3906 L278.7688,519.3906 L278.0188,522.4531 L275.5813,522.4531 L278.925,510.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="152" x="295.7" y="521.1074">StorageWrapperSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="260" x2="456" y1="532.9531" y2="532.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="265" y="547.1636">Set : _expired</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="260" x2="456" y1="553.7578" y2="553.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="265" y="567.9683">load(*uids) : Iterator&lt;Cuds&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="265" y="580.7729">expire(*cuds_or_uids) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="265" y="593.5776">expire_all() : void()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="265" y="606.3823">refresh(*cuds_or_uids) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="265" y="619.187">_notify_read(cuds_objects) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="183" x="265" y="631.9917">_load_from_backend(uids) : void</text><!--MD5=[7ae4cf829262d09acdef76e45490c30a]
class OSP.TransportSession--><rect fill="#FEFECE" filter="url(#fx25moqb17uad)" height="124.8281" id="OSP.TransportSession" style="stroke: #A80036; stroke-width: 1.5;" width="259" x="38.5" y="717.9531"/><ellipse cx="108.75" cy="733.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M111.7188,739.5938 Q111.1406,739.8906 110.5,740.0391 Q109.8594,740.1875 109.1563,740.1875 Q106.6563,740.1875 105.3359,738.5391 Q104.0156,736.8906 104.0156,733.7656 Q104.0156,730.6406 105.3359,728.9844 Q106.6563,727.3281 109.1563,727.3281 Q109.8594,727.3281 110.5078,727.4844 Q111.1563,727.6406 111.7188,727.9375 L111.7188,730.6563 Q111.0938,730.0781 110.5,729.8047 Q109.9063,729.5313 109.2813,729.5313 Q107.9375,729.5313 107.25,730.6016 Q106.5625,731.6719 106.5625,733.7656 Q106.5625,735.8594 107.25,736.9297 Q107.9375,738 109.2813,738 Q109.9063,738 110.5,737.7266 Q111.0938,737.4531 111.7188,736.875 L111.7188,739.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="129.25" y="738.1074">TransportSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="296.5" y1="749.9531" y2="749.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="242" x="44.5" y="764.1636">CommunicationEngineServer : com_facility</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="44.5" y="776.9683">Session : session_cls</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="44.5" y="789.7729">dict : session_objs</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="39.5" x2="296.5" y1="796.3672" y2="796.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="44.5" y="810.5776">startListening() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="44.5" y="823.3823">handle_disconnect(user) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="44.5" y="836.187">handle_request(command, data, user) : str</text><!--MD5=[6bc23195940c054ffa7cfba1cec37cf2]
class OSP.DbWrapperSession--><rect fill="#FEFECE" filter="url(#fx25moqb17uad)" height="163.2422" id="OSP.DbWrapperSession" style="stroke: #A80036; stroke-width: 1.5;" width="371" x="332.5" y="698.9531"/><ellipse cx="454.25" cy="714.9531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M454.3594,710.2969 L453.2031,715.375 L455.5313,715.375 L454.3594,710.2969 Z M452.875,708.0625 L455.8594,708.0625 L459.2188,720.4531 L456.7656,720.4531 L456,717.3906 L452.7188,717.3906 L451.9688,720.4531 L449.5313,720.4531 L452.875,708.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="119" x="474.75" y="719.1074">DbWrapperSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="333.5" x2="702.5" y1="730.9531" y2="730.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="333.5" x2="702.5" y1="738.9531" y2="738.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="338.5" y="753.1636">commit() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="359" x="338.5" y="765.9683">load_by_cuba_key(cuba_key, update_registry) : Iterator&lt;Cuds&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="338.5" y="778.7729">store(cuds_object) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="94" x="338.5" y="791.5776">_initialize() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="126" x="338.5" y="804.3823">_load_first_level : void</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="128" x="338.5" y="817.187">_init_transaction : void</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="155" x="338.5" y="829.9917">_rollback_transaction : void</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="338.5" y="842.7964">close : void</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="248" x="338.5" y="855.6011">_load_by_cuba(uids, update_registry): Cuds</text><!--MD5=[ed37df016bfa331572b6a4287197b2a1]
class OSP.SqlWrapperSession--><rect fill="#FEFECE" filter="url(#fx25moqb17uad)" height="201.6563" id="OSP.SqlWrapperSession" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="399.5" y="921.9531"/><ellipse cx="453.25" cy="937.9531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M453.3594,933.2969 L452.2031,938.375 L454.5313,938.375 L453.3594,933.2969 Z M451.875,931.0625 L454.8594,931.0625 L458.2188,943.4531 L455.7656,943.4531 L455,940.3906 L451.7188,940.3906 L450.9688,943.4531 L448.5313,943.4531 L451.875,931.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="121" x="473.75" y="942.1074">SqlWrapperSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="400.5" x2="635.5" y1="953.9531" y2="953.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="400.5" x2="635.5" y1="961.9531" y2="961.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="405.5" y="976.1636">_apply_added() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="405.5" y="988.9683">_apply_updated() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="405.5" y="1001.7729">_apply_deleted() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="405.5" y="1014.5776">_load_from_backend() : Iterator&lt;Cuds&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="405.5" y="1027.3823">_apply_deleted() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="405.5" y="1040.187">load_first_level : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="405.5" y="1052.9917">_load_by_cuba : void</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="405.5" y="1065.7964">_db_create(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="405.5" y="1078.6011">_db_select(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="405.5" y="1091.4058">_db_insert(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="85" x="405.5" y="1104.2104">_db_update(...)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="81" x="405.5" y="1117.0151">_db_delete(...)</text><!--MD5=[d940ed90eb56af0db47f0d5c7e42c7f8]
class OSP.SimWrapperSession--><rect fill="#FEFECE" filter="url(#fx25moqb17uad)" height="99.2188" id="OSP.SimWrapperSession" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="492" y="520.4531"/><ellipse cx="532.2" cy="536.4531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M532.3094,531.7969 L531.1531,536.875 L533.4813,536.875 L532.3094,531.7969 Z M530.825,529.5625 L533.8094,529.5625 L537.1688,541.9531 L534.7156,541.9531 L533.95,538.8906 L530.6688,538.8906 L529.9188,541.9531 L527.4813,541.9531 L530.825,529.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="124" x="551.8" y="540.6074">SimWrapperSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="493" x2="703" y1="552.4531" y2="552.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="498" y="566.6636">bool : _ran</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="493" x2="703" y1="573.2578" y2="573.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="498" y="587.4683">run()</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="89" x="498" y="600.2729">_run(root_cuds)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="200" x="498" y="613.0776">_update_cuds_after_run(root_cuds)</text><!--MD5=[0e88783adda40083615af9b7d4c0f932]
class sqlite.SqliteWrapperSession--><rect fill="#FEFECE" filter="url(#fx25moqb17uad)" height="48" id="sqlite.SqliteWrapperSession" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="312.5" y="1198.9531"/><ellipse cx="327.5" cy="1214.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M330.4688,1220.5938 Q329.8906,1220.8906 329.25,1221.0391 Q328.6094,1221.1875 327.9063,1221.1875 Q325.4063,1221.1875 324.0859,1219.5391 Q322.7656,1217.8906 322.7656,1214.7656 Q322.7656,1211.6406 324.0859,1209.9844 Q325.4063,1208.3281 327.9063,1208.3281 Q328.6094,1208.3281 329.2578,1208.4844 Q329.9063,1208.6406 330.4688,1208.9375 L330.4688,1211.6563 Q329.8438,1211.0781 329.25,1210.8047 Q328.6563,1210.5313 328.0313,1210.5313 Q326.6875,1210.5313 326,1211.6016 Q325.3125,1212.6719 325.3125,1214.7656 Q325.3125,1216.8594 326,1217.9297 Q326.6875,1219 328.0313,1219 Q328.6563,1219 329.25,1218.7266 Q329.8438,1218.4531 330.4688,1217.875 L330.4688,1220.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="137" x="341.5" y="1219.1074">SqliteWrapperSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="313.5" x2="480.5" y1="1230.9531" y2="1230.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="313.5" x2="480.5" y1="1238.9531" y2="1238.9531"/><!--MD5=[6b99f77d82d6685d9d4bb93fd6696b1f]
class sqlalchemy.SqlAlchemyWrapperSession--><rect fill="#FEFECE" filter="url(#fx25moqb17uad)" height="48" id="sqlalchemy.SqlAlchemyWrapperSession" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="537" y="1198.9531"/><ellipse cx="552" cy="1214.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M554.9688,1220.5938 Q554.3906,1220.8906 553.75,1221.0391 Q553.1094,1221.1875 552.4063,1221.1875 Q549.9063,1221.1875 548.5859,1219.5391 Q547.2656,1217.8906 547.2656,1214.7656 Q547.2656,1211.6406 548.5859,1209.9844 Q549.9063,1208.3281 552.4063,1208.3281 Q553.1094,1208.3281 553.7578,1208.4844 Q554.4063,1208.6406 554.9688,1208.9375 L554.9688,1211.6563 Q554.3438,1211.0781 553.75,1210.8047 Q553.1563,1210.5313 552.5313,1210.5313 Q551.1875,1210.5313 550.5,1211.6016 Q549.8125,1212.6719 549.8125,1214.7656 Q549.8125,1216.8594 550.5,1217.9297 Q551.1875,1219 552.5313,1219 Q553.1563,1219 553.75,1218.7266 Q554.3438,1218.4531 554.9688,1217.875 L554.9688,1220.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="172" x="566" y="1219.1074">SqlAlchemyWrapperSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="538" x2="740" y1="1230.9531" y2="1230.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="538" x2="740" y1="1238.9531" y2="1238.9531"/><!--MD5=[6da0f078df434cec873337da513214c1]
class simlammps.SimlammpsSession--><rect fill="#FEFECE" filter="url(#fx25moqb17uad)" height="48" id="simlammps.SimlammpsSession" style="stroke: #A80036; stroke-width: 1.5;" width="151" x="760.5" y="756.4531"/><ellipse cx="775.5" cy="772.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M778.4688,778.0938 Q777.8906,778.3906 777.25,778.5391 Q776.6094,778.6875 775.9063,778.6875 Q773.4063,778.6875 772.0859,777.0391 Q770.7656,775.3906 770.7656,772.2656 Q770.7656,769.1406 772.0859,767.4844 Q773.4063,765.8281 775.9063,765.8281 Q776.6094,765.8281 777.2578,765.9844 Q777.9063,766.1406 778.4688,766.4375 L778.4688,769.1563 Q777.8438,768.5781 777.25,768.3047 Q776.6563,768.0313 776.0313,768.0313 Q774.6875,768.0313 774,769.1016 Q773.3125,770.1719 773.3125,772.2656 Q773.3125,774.3594 774,775.4297 Q774.6875,776.5 776.0313,776.5 Q776.6563,776.5 777.25,776.2266 Q777.8438,775.9531 778.4688,775.375 L778.4688,778.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="789.5" y="776.6074">SimlammpsSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="761.5" x2="910.5" y1="788.4531" y2="788.4531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="761.5" x2="910.5" y1="796.4531" y2="796.4531"/><!--MD5=[c7764c6d8a3ff74188c693071fdd2f64]
reverse link OSP.Session to OSP.CoreSession--><path d="M341.08,236.6531 C324.54,272.5731 306.682,311.3611 295.669,335.2811 " fill="none" id="OSP.Session&lt;-OSP.CoreSession" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="334.843,233.4631,349.566,218.2231,347.56,239.3231,334.843,233.4631" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[9317ea6275fe1f1e6820fcecf27383ee]
reverse link OSP.Session to OSP.WrapperSession--><path d="M421.255,236.4831 C427.602,250.1231 434.144,264.1831 440.428,277.6931 " fill="none" id="OSP.Session&lt;-OSP.WrapperSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="414.851,239.3131,412.761,218.2231,427.545,233.4031,414.851,239.3131" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[20f7e879792ac1c8546fbabbb924bf6f]
reverse link OSP.WrapperSession to OSP.StorageWrapperSession--><path d="M421.366,458.8541 C413.212,473.0221 404.974,487.3351 397.259,500.7411 " fill="none" id="OSP.WrapperSession&lt;-OSP.StorageWrapperSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="415.561,454.9071,431.605,441.0651,427.695,461.8901,415.561,454.9071" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1076970505f294f6663aeb51b5744eed]
reverse link OSP.StorageWrapperSession to OSP.TransportSession--><path d="M282.272,654.0541 C262.914,675.2971 242.442,697.7631 224.255,717.7201 " fill="none" id="OSP.StorageWrapperSession&lt;-OSP.TransportSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="277.142,649.2921,295.787,639.2241,287.49,658.7211,277.142,649.2921" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7538e2685c67a61ecb359e8c1099da69]
reverse link OSP.StorageWrapperSession to OSP.DbWrapperSession--><path d="M422.618,655.1581 C433.642,669.5241 445.072,684.4181 456.025,698.6921 " fill="none" id="OSP.StorageWrapperSession&lt;-OSP.DbWrapperSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="417.013,659.3521,410.39,639.2241,428.119,650.8291,417.013,659.3521" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[cf1d4fcbdac48d96e9424470d91cbe9d]
reverse link OSP.DbWrapperSession to OSP.SqlWrapperSession--><path d="M518,882.3461 C518,895.3841 518,908.7341 518,921.7611 " fill="none" id="OSP.DbWrapperSession&lt;-OSP.SqlWrapperSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="511,882.2051,518,862.2051,525,882.2051,511,882.2051" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f9141bdc248174da9f46caac266f8bcc]
reverse link OSP.WrapperSession to OSP.SimWrapperSession--><path d="M534.431,458.5021 C546.764,479.9301 559.298,501.7091 569.94,520.2001 " fill="none" id="OSP.WrapperSession&lt;-OSP.SimWrapperSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="528.305,461.8901,524.395,441.0651,540.439,454.9071,528.305,461.8901" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[eb06e69b53491e7660657f569ff35787]
reverse link OSP.SqlWrapperSession to sqlite.SqliteWrapperSession--><path d="M446.219,1141.4131 C432.857,1163.2771 420.257,1183.8963 411.15,1198.7978 " fill="none" id="OSP.SqlWrapperSession&lt;-sqlite.SqliteWrapperSession" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="440.389,1137.5291,456.791,1124.1131,452.335,1144.8291,440.389,1137.5291" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[26bf31daaf9d6310f42adcd60234f41a]
reverse link OSP.SqlWrapperSession to sqlalchemy.SqlAlchemyWrapperSession--><path d="M589.781,1141.4131 C603.143,1163.2771 615.743,1183.8963 624.85,1198.7978 " fill="none" id="OSP.SqlWrapperSession&lt;-sqlalchemy.SqlAlchemyWrapperSession" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="583.665,1144.8291,579.209,1124.1131,595.611,1137.5291,583.665,1144.8291" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[43120572f95277d9aac47cdbd2edf2fc]
reverse link OSP.SimWrapperSession to simlammps.SimlammpsSession--><path d="M668.708,632.8961 C716.043,674.3641 775.655,726.5871 809.432,756.1781 " fill="none" id="OSP.SimWrapperSession&lt;-simlammps.SimlammpsSession" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="663.931,638.0181,653.5,619.5741,673.156,627.4881,663.931,638.0181" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[fd8cd8ef4dd8270f2bb87bb0c11db454]
@startuml
allow_mixing
  skinparam packageStyle rectangle
  title Session inheritance scheme

  namespace "OSP-Core repo" as OSP {
    abstract class Session {
      Registry : registry
      - -
      store(cuds_object) : Cuds
      load(*uids) : Iterator<Cuds>
      prune(rel) : void
      {abstract}_notify_delete(cuds_object)
      {abstract}_notify_update(cuds_object)
      {abstract}_notify_read(cuds_object)
    }

    class CoreSession implements Session {
    }

    abstract class WrapperSession extends Session {
      _engine
      _forbid_buffer_reset_by
      - -
      _apply_added() : void
      _apply_updated() : void
      _apply_deleted() : void
      _notify_delete(cuds_object) : void
      _notify_update(cuds_object) : void
      _reset_buffers(changed_by) : bool
      _check_cardinalities() : void
    }

    abstract class StorageWrapperSession extends WrapperSession {
      Set : _expired
      - -
      load(*uids) : Iterator<Cuds>
      expire(*cuds_or_uids) : void
      expire_all() : void()
      refresh(*cuds_or_uids) : void
      _notify_read(cuds_objects) : void
      {abstract}_load_from_backend(uids) : void
    }

    class TransportSession extends StorageWrapperSession {
      CommunicationEngineServer : com_facility
      Session : session_cls
      dict : session_objs
      - -
      startListening() : void
      handle_disconnect(user) : void
      handle_request(command, data, user) : str
    }

    abstract class DbWrapperSession extends StorageWrapperSession {
      - -
      commit() : void
      load_by_cuba_key(cuba_key, update_registry) : Iterator<Cuds>
      store(cuds_object) : void
      {abstract}_initialize() : void
      {abstract}_load_first_level : void
      {abstract}_init_transaction : void
      {abstract}_rollback_transaction : void
      {abstract}close : void
      {abstract}_load_by_cuba(uids, update_registry): Cuds
    }

    abstract class SqlWrapperSession extends DbWrapperSession {
      - -
      _apply_added() : void
      _apply_updated() : void
      _apply_deleted() : void
      _load_from_backend() : Iterator<Cuds>
      _apply_deleted() : void
      load_first_level : void
      _load_by_cuba : void
      {abstract}_db_create(...)
      {abstract}_db_select(...)
      {abstract}_db_insert(...)
      {abstract}_db_update(...)
      {abstract}_db_delete(...)
    }

    abstract class SimWrapperSession extends WrapperSession { 
      bool : _ran
      - -
      run()
      {abstract}_run(root_cuds)
      {abstract}_update_cuds_after_run(root_cuds)
    }
  }

  namespace "Sqlite wrapper repo" as sqlite {
    class SqliteWrapperSession implements OSP.SqlWrapperSession {
    }
  }

  namespace "SqlAlchemy wrapper repo" as sqlalchemy {
    class SqlAlchemyWrapperSession implements OSP.SqlWrapperSession {
    }
  }

  namespace "Simlammps repo" as simlammps {
    class SimlammpsSession implements OSP.SimWrapperSession {
    }
  }
@enduml

PlantUML version 1.2019.11(Sun Sep 22 10:02:15 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_222-b10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>