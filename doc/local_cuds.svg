<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="713px" preserveAspectRatio="none" style="width:1293px;height:713px;" version="1.1" viewBox="0 0 1293 713" width="1293px" zoomAndPan="magnify"><defs><filter height="300%" id="f3yw0xfaz4y0r" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="151" x="574" y="16.708">LOCAL CUDS 3.0</text><!--MD5=[42049106528ce2561a1330a2ff869470]
cluster SemanticLayer--><rect fill="#FFFFFF" filter="url(#f3yw0xfaz4y0r)" height="201" style="stroke: #000000; stroke-width: 1.5;" width="172" x="147" y="191.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="175" y="206.9482">SemanticLayer</text><!--MD5=[969905f2b155fb53dbf440c532e0d2c0]
cluster InteroperabilityLayer--><rect fill="#FFFFFF" filter="url(#f3yw0xfaz4y0r)" height="485.5" style="stroke: #000000; stroke-width: 1.5;" width="352" x="419" y="217.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="164" x="513" y="232.4482">InteroperabilityLayer</text><!--MD5=[378541dcb0b96c98bcd3037213ed1e95]
cluster SyntacticLayer--><rect fill="#FFFFFF" filter="url(#f3yw0xfaz4y0r)" height="99" style="stroke: #000000; stroke-width: 1.5;" width="154" x="970" y="436.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="989" y="451.9482">SyntacticLayer</text><!--MD5=[f2d552df252d6f64b21904cfa91dcbe0]
class SemanticLayer.Cuds--><rect fill="#FEFECE" filter="url(#f3yw0xfaz4y0r)" height="150.4375" id="SemanticLayer.Cuds" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="163" y="226.9531"/><ellipse cx="200.5" cy="242.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M203.4688,248.5938 Q202.8906,248.8906 202.25,249.0391 Q201.6094,249.1875 200.9063,249.1875 Q198.4063,249.1875 197.0859,247.5391 Q195.7656,245.8906 195.7656,242.7656 Q195.7656,239.6406 197.0859,237.9844 Q198.4063,236.3281 200.9063,236.3281 Q201.6094,236.3281 202.2578,236.4844 Q202.9063,236.6406 203.4688,236.9375 L203.4688,239.6563 Q202.8438,239.0781 202.25,238.8047 Q201.6563,238.5313 201.0313,238.5313 Q199.6875,238.5313 199,239.6016 Q198.3125,240.6719 198.3125,242.7656 Q198.3125,244.8594 199,245.9297 Q199.6875,247 201.0313,247 Q201.6563,247 202.25,246.7266 Q202.8438,246.4531 203.4688,245.875 L203.4688,248.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="219.5" y="247.1074">Cuds</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="25" x="281" y="223.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="23" x="282" y="236.0918">dict</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="164" x2="302" y1="258.9531" y2="258.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="169" y="273.1636">Session session</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="169" y="285.9683">UUID uuid</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="169" y="298.7729">CUBA cuba_key</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="164" x2="302" y1="305.3672" y2="305.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="169" y="319.5776">add() : Cuds</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="169" y="332.3823">get() : Cuds</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="169" y="345.187">remove() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="169" y="357.9917">update() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="169" y="370.7964">iter() : Iterator&lt;Cuds&gt;</text><!--MD5=[ca289c66a396e9e19224db4dd1773f0d]
class InteroperabilityLayer.Registry--><rect fill="#FEFECE" filter="url(#f3yw0xfaz4y0r)" height="48" id="InteroperabilityLayer.Registry" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="645.5" y="277.9531"/><ellipse cx="660.5" cy="293.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M663.4688,299.5938 Q662.8906,299.8906 662.25,300.0391 Q661.6094,300.1875 660.9063,300.1875 Q658.4063,300.1875 657.0859,298.5391 Q655.7656,296.8906 655.7656,293.7656 Q655.7656,290.6406 657.0859,288.9844 Q658.4063,287.3281 660.9063,287.3281 Q661.6094,287.3281 662.2578,287.4844 Q662.9063,287.6406 663.4688,287.9375 L663.4688,290.6563 Q662.8438,290.0781 662.25,289.8047 Q661.6563,289.5313 661.0313,289.5313 Q659.6875,289.5313 659,290.6016 Q658.3125,291.6719 658.3125,293.7656 Q658.3125,295.8594 659,296.9297 Q659.6875,298 661.0313,298 Q661.6563,298 662.25,297.7266 Q662.8438,297.4531 663.4688,296.875 L663.4688,299.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50" x="674.5" y="298.1074">Registry</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="25" x="732.5" y="274.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="23" x="733.5" y="287.0918">dict</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="646.5" x2="753.5" y1="309.9531" y2="309.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="646.5" x2="753.5" y1="317.9531" y2="317.9531"/><!--MD5=[f04db241a1d9d33582eb4c54dd745b87]
class InteroperabilityLayer.Session--><rect fill="#FEFECE" filter="url(#f3yw0xfaz4y0r)" height="99.2188" id="InteroperabilityLayer.Session" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="435" y="252.4531"/><ellipse cx="464.85" cy="268.4531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M464.9594,263.7969 L463.8031,268.875 L466.1313,268.875 L464.9594,263.7969 Z M463.475,261.5625 L466.4594,261.5625 L469.8188,273.9531 L467.3656,273.9531 L466.6,270.8906 L463.3188,270.8906 L462.5688,273.9531 L460.1313,273.9531 L463.475,261.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="49" x="482.15" y="272.6074">Session</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="436" x2="548" y1="284.4531" y2="284.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="441" y="298.6636">Registry : registry</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="436" x2="548" y1="305.2578" y2="305.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="441" y="319.4683">store() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="441" y="332.2729">load() : Cuds</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="441" y="345.0776">sync() : void</text><!--MD5=[d8852dde9888d0ac7eda69884fc95ff0]
class InteroperabilityLayer.CoreSession--><rect fill="#FEFECE" filter="url(#f3yw0xfaz4y0r)" height="48" id="InteroperabilityLayer.CoreSession" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="437" y="471.9531"/><ellipse cx="452" cy="487.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M454.9688,493.5938 Q454.3906,493.8906 453.75,494.0391 Q453.1094,494.1875 452.4063,494.1875 Q449.9063,494.1875 448.5859,492.5391 Q447.2656,490.8906 447.2656,487.7656 Q447.2656,484.6406 448.5859,482.9844 Q449.9063,481.3281 452.4063,481.3281 Q453.1094,481.3281 453.7578,481.4844 Q454.4063,481.6406 454.9688,481.9375 L454.9688,484.6563 Q454.3438,484.0781 453.75,483.8047 Q453.1563,483.5313 452.5313,483.5313 Q451.1875,483.5313 450.5,484.6016 Q449.8125,485.6719 449.8125,487.7656 Q449.8125,489.8594 450.5,490.9297 Q451.1875,492 452.5313,492 Q453.1563,492 453.75,491.7266 Q454.3438,491.4531 454.9688,490.875 L454.9688,493.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="466" y="492.1074">CoreSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="438" x2="546" y1="503.9531" y2="503.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="438" x2="546" y1="511.9531" y2="511.9531"/><!--MD5=[e438fc0c2025bff598ed1f85cd04b2ea]
class InteroperabilityLayer.WrapperSession--><rect fill="#FEFECE" filter="url(#f3yw0xfaz4y0r)" height="112.0234" id="InteroperabilityLayer.WrapperSession" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="594" y="439.9531"/><ellipse cx="615.3" cy="455.9531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M615.4094,451.2969 L614.2531,456.375 L616.5813,456.375 L615.4094,451.2969 Z M613.925,449.0625 L616.9094,449.0625 L620.2688,461.4531 L617.8156,461.4531 L617.05,458.3906 L613.7688,458.3906 L613.0188,461.4531 L610.5813,461.4531 L613.925,449.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="102" x="630.7" y="460.1074">WrapperSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="595" x2="741" y1="471.9531" y2="471.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="600" y="486.1636">List added</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="600" y="498.9683">List updated</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="600" y="511.7729">List removed</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="600" y="524.5776">SyntacticLayer syntactic</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="600" y="537.3823">--</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="595" x2="741" y1="543.9766" y2="543.9766"/><!--MD5=[b48e80b10cde8f0c4848d3b15d23b7b1]
class InteroperabilityLayer.SimSession--><rect fill="#FEFECE" filter="url(#f3yw0xfaz4y0r)" height="60.8047" id="InteroperabilityLayer.SimSession" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="616.5" y="619.4531"/><ellipse cx="631.5" cy="635.4531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M631.6094,630.7969 L630.4531,635.875 L632.7813,635.875 L631.6094,630.7969 Z M630.125,628.5625 L633.1094,628.5625 L636.4688,640.9531 L634.0156,640.9531 L633.25,637.8906 L629.9688,637.8906 L629.2188,640.9531 L626.7813,640.9531 L630.125,628.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="645.5" y="639.6074">SimSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="617.5" x2="718.5" y1="651.4531" y2="651.4531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="617.5" x2="718.5" y1="659.4531" y2="659.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="622.5" y="673.6636">run()</text><!--MD5=[cd4be6419252bb0e45033cdcaf1439d5]
class InteroperabilityLayer.DBSession--><rect fill="#FEFECE" filter="url(#f3yw0xfaz4y0r)" height="73.6094" id="InteroperabilityLayer.DBSession" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="459" y="612.9531"/><ellipse cx="474" cy="628.9531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M474.1094,624.2969 L472.9531,629.375 L475.2813,629.375 L474.1094,624.2969 Z M472.625,622.0625 L475.6094,622.0625 L478.9688,634.4531 L476.5156,634.4531 L475.75,631.3906 L472.4688,631.3906 L471.7188,634.4531 L469.2813,634.4531 L472.625,622.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="488" y="633.1074">DBSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="460" x2="556" y1="644.9531" y2="644.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="460" x2="556" y1="652.9531" y2="652.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="465" y="667.1636">commit()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="465" y="679.9683">init()</text><!--MD5=[fe0a8fa4fe7c5a42fcbba6f6491f445c]
class SyntacticLayer.SyntacticLayer--><rect fill="#FEFECE" filter="url(#f3yw0xfaz4y0r)" height="48" id="SyntacticLayer.SyntacticLayer" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="986" y="471.9531"/><ellipse cx="1001" cy="487.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1003.9688,493.5938 Q1003.3906,493.8906 1002.75,494.0391 Q1002.1094,494.1875 1001.4063,494.1875 Q998.9063,494.1875 997.5859,492.5391 Q996.2656,490.8906 996.2656,487.7656 Q996.2656,484.6406 997.5859,482.9844 Q998.9063,481.3281 1001.4063,481.3281 Q1002.1094,481.3281 1002.7578,481.4844 Q1003.4063,481.6406 1003.9688,481.9375 L1003.9688,484.6563 Q1003.3438,484.0781 1002.75,483.8047 Q1002.1563,483.5313 1001.5313,483.5313 Q1000.1875,483.5313 999.5,484.6016 Q998.8125,485.6719 998.8125,487.7656 Q998.8125,489.8594 999.5,490.9297 Q1000.1875,492 1001.5313,492 Q1002.1563,492 1002.75,491.7266 Q1003.3438,491.4531 1003.9688,490.875 L1003.9688,493.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="1015" y="492.1074">SyntacticLayer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="987" x2="1107" y1="503.9531" y2="503.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="987" x2="1107" y1="511.9531" y2="511.9531"/><!--MD5=[fee662a292a0353a69bd162820bae93b]
entity User--><ellipse cx="22" cy="270.4531" fill="#FEFECE" filter="url(#f3yw0xfaz4y0r)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M22,278.4531 L22,305.4531 M9,286.4531 L35,286.4531 M22,305.4531 L9,320.4531 M22,305.4531 L35,320.4531 " fill="none" filter="url(#f3yw0xfaz4y0r)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="6" y="340.4482">User</text><!--MD5=[89b32fd22c7afa88e0ae1984250e1822]
entity Engine--><path d="M1195,483.4531 C1195,473.4531 1229,473.4531 1229,473.4531 C1229,473.4531 1263,473.4531 1263,483.4531 L1263,508.75 C1263,518.75 1229,518.75 1229,518.75 C1229,518.75 1195,518.75 1195,508.75 L1195,483.4531 " fill="#FEFECE" filter="url(#f3yw0xfaz4y0r)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1195,483.4531 C1195,493.4531 1229,493.4531 1229,493.4531 C1229,493.4531 1263,493.4531 1263,483.4531 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="1205" y="510.4482">Engine</text><path d="M22,28.9531 L22,144.8828 A0,0 0 0 0 22,144.8828 L188.007,144.8828 L213.52,226.8581 L196.007,144.8828 L332,144.8828 A0,0 0 0 0 332,144.8828 L332,38.9531 L322,28.9531 L22,28.9531 A0,0 0 0 0 22,28.9531 " fill="#FBFB77" filter="url(#f3yw0xfaz4y0r)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M322,28.9531 L322,38.9531 L332,38.9531 L322,28.9531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="28" y="46.02">This will be shallow structure with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="28" y="61.1528">the uuids of the contained elements:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="28" y="76.2856">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="32" y="91.4185">Relation1: {uid1: cuba_key, uid2: cuba_key},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="32" y="106.5513">Relation2: {uid4: cuba_key},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="32" y="121.6841">Relation3: {uid3: cuba_key, uid5: cuba_key},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="32" y="136.8169">}</text><path d="M367.5,74.4531 L367.5,99.5859 A0,0 0 0 0 367.5,99.5859 L488,99.5859 L492,252.2881 L496,99.5859 L616.5,99.5859 A0,0 0 0 0 616.5,99.5859 L616.5,84.4531 L606.5,74.4531 L367.5,74.4531 A0,0 0 0 0 367.5,74.4531 " fill="#FBFB77" filter="url(#f3yw0xfaz4y0r)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M606.5,74.4531 L606.5,84.4531 L616.5,84.4531 L606.5,74.4531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="373.5" y="91.52">Provides the info requested to Cuds</text><path d="M790,281.9531 L790,322.2188 A0,0 0 0 0 790,322.2188 L890.016,322.2188 L739.963,439.9051 L898.016,322.2188 L1048,322.2188 A0,0 0 0 0 1048,322.2188 L1048,291.9531 L1038,281.9531 L790,281.9531 A0,0 0 0 0 790,281.9531 " fill="#FBFB77" filter="url(#f3yw0xfaz4y0r)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1038,281.9531 L1038,291.9531 L1048,291.9531 L1038,281.9531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="796" y="299.02">Updates the registry with information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="796" y="314.1528">from the back-end and vice versa.</text><path d="M182,468.4531 L182,523.8516 A0,0 0 0 0 182,523.8516 L326.119,523.8516 L458.877,614.3851 L334.119,523.8516 L402,523.8516 A0,0 0 0 0 402,523.8516 L402,478.4531 L392,468.4531 L182,468.4531 A0,0 0 0 0 182,468.4531 " fill="#FBFB77" filter="url(#f3yw0xfaz4y0r)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M392,468.4531 L392,478.4531 L402,478.4531 L392,468.4531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="188" y="485.52">init() is automatically triggered</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="188" y="500.6528">in cudsWrapper instantiation to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="188" y="515.7856">sync first level children.</text><path d="M651.5,28.9531 L651.5,144.8828 A0,0 0 0 0 651.5,144.8828 L752.365,144.8828 L708.382,277.7671 L760.365,144.8828 L902.5,144.8828 A0,0 0 0 0 902.5,144.8828 L902.5,38.9531 L892.5,28.9531 L651.5,28.9531 A0,0 0 0 0 651.5,28.9531 " fill="#FBFB77" filter="url(#f3yw0xfaz4y0r)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M892.5,28.9531 L892.5,38.9531 L902.5,38.9531 L892.5,28.9531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="657.5" y="46.02">Flat structure that contains all the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="657.5" y="61.1528">objects accessible through their uid:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="657.5" y="76.2856">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="661.5" y="91.4185">uid1: object1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="661.5" y="106.5513">uid2: object2,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="661.5" y="121.6841">uid3: object3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="661.5" y="136.8169">}</text><path d="M1083,281.9531 L1083,322.2188 A0,0 0 0 0 1083,322.2188 L1164.56,322.2188 L1063.3,471.7751 L1172.56,322.2188 L1281,322.2188 A0,0 0 0 0 1281,322.2188 L1281,291.9531 L1271,281.9531 L1083,281.9531 A0,0 0 0 0 1083,281.9531 " fill="#FBFB77" filter="url(#f3yw0xfaz4y0r)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1271,281.9531 L1271,291.9531 L1281,291.9531 L1271,281.9531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="1089" y="299.02">Connects to the engine and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="1089" y="314.1528">knows its specific API</text><!--MD5=[02902352e6fa764ce32c69c9a14e2c19]
reverse link InteroperabilityLayer.Session to InteroperabilityLayer.CoreSession--><path d="M492,372.2341 C492,407.1201 492,447.1211 492,471.7141 " fill="none" id="InteroperabilityLayer.Session&lt;-InteroperabilityLayer.CoreSession" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="485,371.9001,492,351.8991,499,371.8991,485,371.9001" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f9fcb1b3b959f552c8150785e3b84bdb]
reverse link InteroperabilityLayer.Session to InteroperabilityLayer.WrapperSession--><path d="M550.611,366.8921 C572.206,390.4501 596.469,416.9191 617.307,439.6511 " fill="none" id="InteroperabilityLayer.Session&lt;-InteroperabilityLayer.WrapperSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="545.222,371.3731,536.868,351.8991,555.542,361.9131,545.222,371.3731" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0d2f49323500a3436a4254394b5af22d]
reverse link InteroperabilityLayer.WrapperSession to InteroperabilityLayer.SimSession--><path d="M668,572.2871 C668,588.8981 668,605.5531 668,619.0744 " fill="none" id="InteroperabilityLayer.WrapperSession&lt;-InteroperabilityLayer.SimSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="661,572.2591,668,552.2581,675,572.2581,661,572.2591" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[79bf0b9ebc84277f744dedae0f2ea3cc]
reverse link InteroperabilityLayer.WrapperSession to InteroperabilityLayer.DBSession--><path d="M595.065,566.2411 C578.103,582.3561 560.713,598.8751 545.98,612.8721 " fill="none" id="InteroperabilityLayer.WrapperSession&lt;-InteroperabilityLayer.DBSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="590.462,560.9581,609.784,552.2581,600.105,571.1081,590.462,560.9581" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[bd554ffda57c73bb81337a610ef09f8b]
link User to SemanticLayer.Cuds--><path d="M38.2065,301.9531 C63.6148,301.9531 114.405,301.9531 157.752,301.9531 " fill="none" id="User-&gt;SemanticLayer.Cuds" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="162.999,301.9531,153.999,297.9531,157.999,301.9531,153.999,305.9531,162.999,301.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="56.5" y="295.02">interacts_with</text><!--MD5=[9c18a6dd82758ff12e8e310fdfddc237]
link SemanticLayer.Cuds to InteroperabilityLayer.Session--><path d="M303.089,301.9531 C342.661,301.9531 391.681,301.9531 429.87,301.9531 " fill="none" id="SemanticLayer.Cuds-&gt;InteroperabilityLayer.Session" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="434.946,301.9531,425.946,297.9531,429.946,301.9531,425.946,305.9531,434.946,301.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="350" y="295.02">has_a</text><!--MD5=[9f7e71c638f46586d31562d326fcb73d]
link InteroperabilityLayer.Session to InteroperabilityLayer.Registry--><path d="M549.112,301.9531 C577.304,301.9531 611.309,301.9531 639.895,301.9531 " fill="none" id="InteroperabilityLayer.Session-&gt;InteroperabilityLayer.Registry" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="645.167,301.9531,636.167,297.9531,640.167,301.9531,636.167,305.9531,645.167,301.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="567.25" y="295.02">manages</text><!--MD5=[5ff1e156d7defbf8d4b646695f88bf23]
link InteroperabilityLayer.WrapperSession to SyntacticLayer.SyntacticLayer--><path d="M742.426,495.9531 C811.76,495.9531 914.17,495.9531 980.743,495.9531 " fill="none" id="InteroperabilityLayer.WrapperSession-&gt;SyntacticLayer.SyntacticLayer" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="985.872,495.9531,976.872,491.9531,980.872,495.9531,976.872,499.9531,985.872,495.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="834" y="512.02">manages</text><!--MD5=[82f00f36799f65840e3d2948d1e9b1a7]
link SyntacticLayer.SyntacticLayer to Engine--><path d="M1108.11,495.9531 C1134.99,495.9531 1165.79,495.9531 1189.57,495.9531 " fill="none" id="SyntacticLayer.SyntacticLayer-&gt;Engine" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1194.84,495.9531,1185.84,491.9531,1189.84,495.9531,1185.84,499.9531,1194.84,495.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="1126.5" y="489.02">acts_on</text><!--MD5=[434e4e8f1c9c62d7a0bb0a5942c3ba93]
@startuml
allow_mixing
  skinparam packageStyle rectangle
  title LOCAL CUDS 3.0
  actor User

  namespace SemanticLayer {

   class Cuds <dict> {
    Session session
    UUID uuid
    CUBA cuba_key
    - -
    add() : Cuds
    get() : Cuds
    remove() : void
    update() : void
    iter() : Iterator<Cuds>
   }
  }

  namespace InteroperabilityLayer {

   class Registry <dict> {
   }

   abstract class Session {
    Registry : registry
    - -
    store() : void
    load() : Cuds
    sync() : void
   }

   class CoreSession implements InteroperabilityLayer.Session {
   }

   abstract class WrapperSession extends InteroperabilityLayer.Session {
    List added
    List updated
    List removed
    SyntacticLayer syntactic
    - -  
   }

   abstract class SimSession extends InteroperabilityLayer.WrapperSession {
    run()
   }

   abstract class DBSession extends InteroperabilityLayer.WrapperSession {
    commit()
    init()
   }
  }

  namespace SyntacticLayer {
    class SyntacticLayer {
    }
  }

  database Engine



  User -> SemanticLayer.Cuds : interacts_with

  SemanticLayer.Cuds -> InteroperabilityLayer.Session : has_a
  InteroperabilityLayer.Session -> InteroperabilityLayer.Registry : manages

  InteroperabilityLayer.WrapperSession -> SyntacticLayer.SyntacticLayer : manages

  SyntacticLayer.SyntacticLayer -> Engine : acts_on



  note top of SemanticLayer.Cuds
   This will be shallow structure with 
   the uuids of the contained elements:
   {
    Relation1: {uid1: cuba_key, uid2: cuba_key},
    Relation2: {uid4: cuba_key},
    Relation3: {uid3: cuba_key, uid5: cuba_key},
    }
  end note

  note top of InteroperabilityLayer.Session
   Provides the info requested to Cuds
  end note

  note top of InteroperabilityLayer.WrapperSession
   Updates the registry with information
   from the back-end and vice versa.
  end note

  note top of InteroperabilityLayer.DBSession
    init() is automatically triggered 
    in cudsWrapper instantiation to
    sync first level children.
  end note

  note top of InteroperabilityLayer.Registry
   Flat structure that contains all the
   objects accessible through their uid:
   {
    uid1: object1,
    uid2: object2,
    uid3: object3,
    }
  end note

  note top of SyntacticLayer.SyntacticLayer
   Connects to the engine and
   knows its specific API
  end note
@enduml

PlantUML version 1.2019.11(Sun Sep 22 10:02:15 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_222-b10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>