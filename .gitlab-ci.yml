image: "registry.gitlab.cc-asp.fraunhofer.de:4567/marketplace/osp-core/python3.7:latest"

stages:
  - build
  #- test

build_job:
  stage: build
  script:
    - python3 setup.py install -o city
    - flake8 cuds/ --exclude=cuds/classes/generated,*/__init__.py,build --ignore=W503
    - pip3 install coverage
    - coverage run setup.py test
    - coverage report
