image: "registry.gitlab.cc-asp.fraunhofer.de:4567/simphony/osp-core:latest"

stages:
  - build

build_job:
  stage: build
  script:
    - python3 setup.py install
    - flake8 cuds/ --exclude=cuds/classes/generated,build --ignore=F401,F403,E402
    - coverage run setup.py test
    - coverage report --omit=cuds/classes/generated/*,cuds/testing/* --skip-covered
